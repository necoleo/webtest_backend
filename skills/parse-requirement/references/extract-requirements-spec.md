# 需求提取规范

## 三大核心原则

### 1. 不创造原则
- 只提取文档中**明确描述**的需求
- 不推断、补充、扩展任何内容
- 文档没说明的细节，不要假设

### 2. 不改写原则
- 使用文档中的**原始表述**
- 保持原文的业务术语和专有名词
- 不用自己的话重新表述

### 3. 原子性原则
- 每条需求只描述**一个**功能点
- 多个功能要拆分成多条需求
- 避免使用"和""以及""同时"连接多个功能

## 需求粒度标准

### 合格的需求项
- 可以编写单个测试用例进行验证
- 包含明确的：操作主体、操作行为、操作对象、预期结果
- 边界条件、校验规则、错误处理单独作为一条需求

### 不应提取的内容
- 背景介绍、项目概述、文档说明
- 目录、版本历史、修订记录
- 非功能需求（性能、安全等）除非文档明确要求
- 纯粹的 UI 布局描述（除非涉及功能交互）

## 提取细则

### 从文字描述中提取

| 文档内容 | 处理方式 |
|---------|---------|
| "用户可以创建对象类型" | ✅ 提取 |
| "英文名称2-50字符" | ✅ 单独提取为校验规则 |
| "创建后不可修改" | ✅ 单独提取为约束条件 |
| "本文档描述了..." | ❌ 跳过，是背景说明 |
| "参见第3章" | ❌ 跳过，是引用说明 |

### 从原型图描述中提取

| 原型图内容 | 处理方式 |
|-----------|---------|
| "保存按钮位于右下角" | ❌ 不提取，纯布局 |
| "保存按钮，点击后提交表单" | ✅ 提取功能 |
| "表格包含：名称、类型、操作列" | ✅ 提取列表展示需求 |
| "删除按钮（仅实例数为0时可用）" | ✅ 提取条件约束 |
| "页面背景色为白色" | ❌ 不提取，纯样式 |

### 从表格中提取

| 表格类型 | 处理方式 |
|---------|---------|
| 字段定义表 | 每个字段的必填、校验规则单独提取 |
| 状态流转表 | 每个状态转换条件单独提取 |
| 权限矩阵 | 每个角色权限单独提取 |
| 接口列表 | 每个接口的功能单独提取 |

## 需求标题命名规范

格式：`{模块/功能}-{动作}{对象}`

示例：
- ✅ 创建用户-填写用户名
- ✅ 创建用户-用户名唯一性校验
- ✅ 用户列表-按用户名搜索
- ❌ 用户功能（太笼统）
- ❌ 填写用户名并校验长度（包含多个功能点）

## 质量检查清单

输出前检查每条需求：

- [ ] 是否在文档中有明确依据？（有→保留，无→删除）
- [ ] 是否只描述一个功能点？（是→保留，否→拆分）
- [ ] 是否使用了原文表述？（是→保留，否→修正）
- [ ] 是否可以编写测试用例？（是→保留，否→删除或细化）
- [ ] 标题是否符合命名规范？（是→保留，否→修正）

## 输出注意事项

- 输出纯 JSON 数组，无 markdown 代码块包裹
- 引用提示语或错误信息时，使用中文引号「」
- module 字段从文档章节标题提取，无明确模块时填 null
- 保持需求项的逻辑顺序（按文档出现顺序或功能流程顺序）
